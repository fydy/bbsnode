{"version":3,"sources":["public/src/admin/advanced/events.js"],"names":["define","Events","init","$","on","socket","emit","err","app","alertError","message","empty","parentEl","this","parents","eid","attr","remove","filter","val","ajaxify","go"],"mappings":"AAAA,aAGAA,OAAO,wBAAyB,WAC/B,IAAIC,KAEJA,EAAOC,KAAO,WACbC,EAAE,yBAAyBC,GAAG,QAAS,WACtCC,OAAOC,KAAK,wBAAyB,SAAUC,GAC9C,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAE3BP,EAAE,gBAAgBQ,YAIpBR,EAAE,iBAAiBC,GAAG,QAAS,WAC9B,IAAIQ,EAAWT,EAAEU,MAAMC,QAAQ,cAC/B,IAAIC,EAAMH,EAASI,KAAK,YACxBX,OAAOC,KAAK,sBAAuBS,GAAM,SAAUR,GAClD,GAAIA,EAAK,CACR,OAAOC,IAAIC,WAAWF,EAAIG,SAE3BE,EAASK,aAIXd,EAAE,WAAWC,GAAG,SAAU,WACzB,IAAIc,EAASf,EAAEU,MAAMM,MACrBC,QAAQC,GAAG,yBAA2BH,EAAS,WAAaA,EAAS,QAIvE,OAAOjB","file":"public/src/admin/advanced/events.js","sourcesContent":["'use strict';\n\n\ndefine('admin/advanced/events', function () {\n\tvar\tEvents = {};\n\n\tEvents.init = function () {\n\t\t$('[data-action=\"clear\"]').on('click', function () {\n\t\t\tsocket.emit('admin.deleteAllEvents', function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\t\t\t\t$('.events-list').empty();\n\t\t\t});\n\t\t});\n\n\t\t$('.delete-event').on('click', function () {\n\t\t\tvar parentEl = $(this).parents('[data-eid]');\n\t\t\tvar eid = parentEl.attr('data-eid');\n\t\t\tsocket.emit('admin.deleteEvents', [eid], function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\treturn app.alertError(err.message);\n\t\t\t\t}\n\t\t\t\tparentEl.remove();\n\t\t\t});\n\t\t});\n\n\t\t$('#filter').on('change', function () {\n\t\t\tvar filter = $(this).val();\n\t\t\tajaxify.go('admin/advanced/events' + (filter ? '?filter=' + filter : ''));\n\t\t});\n\t};\n\n\treturn Events;\n});\n"]}