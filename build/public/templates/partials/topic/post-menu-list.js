!function(s){"object"==typeof module&&module.exports?module.exports=s():"function"==typeof define&&define.amd&&define(s)}(function(){function e(s,o,t,n,a){return(t(o&&o.posts&&o.posts.display_moderator_tools)?'\n<li class="tools-title">[[topic:tools]]</li>\n<li><a component="post/edit" href="#"><i class="fa fa-pencil"></i> [[topic:edit]]</a></li>\n<li><a component="post/delete" href="#" class="'+(t(o&&o.posts&&o.posts.deleted)?"hidden":"")+'"><i class="fa fa-trash-o"></i> [[topic:delete]]</a></li>\n<li><a component="post/restore" href="#" class="'+(t(o&&o.posts&&o.posts.deleted)?"":"hidden")+'"><i class="fa fa-history"></i> [[topic:restore]]</a></li>\n<li><a component="post/purge" href="#" class="'+(t(o&&o.posts&&o.posts.deleted)?"":"hidden")+'"><i class="fa fa-eraser"></i> [[topic:purge]]</a></li>\n<li><a component="topic/delete/posts" href="#"><i class="fa fa-trash-o"></i> [[topic:thread_tools.delete-posts]]</a></li>\n\n'+(t(o&&o.posts&&o.posts.display_history)?'\n<li>\n\t<a component="post/view-history" role="menuitem" tabindex="-1" href="#">\n\t\t<span class="menu-icon"><i class="fa fa-history"></i></span> [[topic:view-history]]\n\t</a>\n</li>\n':"")+"\n\n"+(t(o&&o.posts&&o.posts.display_move_tools)?'\n<li><a component="post/move" href="#"><i class="fa fa-arrows"></i> [[topic:move]]</a></li>\n':"")+"\n\n"+(t(o&&o.posts&&o.posts.ip)?'\n<li>\n\t<a component="post/copy-ip" role="menuitem" tabindex="-1" href="#" data-clipboard-text="'+s.__escape(t(o&&o.posts&&o.posts.ip))+'">\n\t\t<span class="menu-icon" ><i class="fa fa-copy"></i></span> [[topic:copy-ip]] '+s.__escape(t(o&&o.posts&&o.posts.ip))+"\n\t</a>\n</li>\n"+(t(o&&o.posts&&o.posts.display_ip_ban)?'\n<li>\n\t<a component="post/ban-ip" role="menuitem" tabindex="-1" href="#" data-ip="'+s.__escape(t(o&&o.posts&&o.posts.ip))+'">\n\t\t<span class="menu-icon"><i class="fa fa-ban"></i></span> [[topic:ban-ip]] '+s.__escape(t(o&&o.posts&&o.posts.ip))+"\n\t</a>\n</li>\n":"")+"\n":"")+"\n":"")+"\n\n"+e.blocks["posts.tools"](s,o,t,n,a)+"\n"+(t(o&&o.posts&&o.posts.toolsVisible)?'\n<li class="divider"></li>\n':"")+"\n\n"+(t(o&&o.posts&&o.posts.deleted)?"":"\n"+(t(o&&o.config&&o.config.loggedIn)?'\n<li>\n\t<a component="post/bookmark" href="#" data-bookmarked="'+s.__escape(t(o&&o.posts&&o.posts.bookmarked))+'">[[topic:bookmark]]\n\t<span component="post/bookmark-count" class="bookmarkCount" data-bookmarks="'+s.__escape(t(o&&o.posts&&o.posts.bookmarks))+'">'+s.__escape(t(o&&o.posts&&o.posts.bookmarks))+'</span>&nbsp;\n\t<i component="post/bookmark/on" class="fa fa-heart '+(t(o&&o.posts&&o.posts.bookmarked)?"":"hidden")+'"></i>\n\t<i component="post/bookmark/off" class="fa fa-heart-o '+(t(o&&o.posts&&o.posts.bookmarked)?"hidden":"")+'"></i>\n\t</a>\n</li>\n':"")+"\n\n"+(t(o&&o.postSharing&&o.postSharing.length)?'\n<li class="divider"></li>\n<li class="tools-title">[[topic:share_this_post]]</li>\n':"")+"\n"+e.blocks.postSharing(s,o,t,n,a)+'\n\n<li class="divider"></li>\n\n'+(t(o&&o.posts&&o.posts.display_flag_tools)?'\n<li><a component="post/flag" href="#">[[topic:flag_title]]</a></li>\n':"")+"\n")}return e.blocks={postSharing:function(n,a,e,s,o){return s(e(a&&a.postSharing),function(s,o,t){return'\n<li role="presentation">\n\t<a role="menuitem" component="share/'+n.__escape(e(a&&a.postSharing&&a.postSharing[s]&&a.postSharing[s].id))+'" tabindex="-1" href="#"><span class="menu-icon"><i class="fa '+n.__escape(e(a&&a.postSharing&&a.postSharing[s]&&a.postSharing[s].class))+'"></i></span> '+n.__escape(e(a&&a.postSharing&&a.postSharing[s]&&a.postSharing[s].name))+"</a>\n</li>\n"})},"posts.tools":function(n,a,e,s,o){return s(e(a&&a.posts&&a.posts.tools),function(s,o,t){return'\n<li role="presentation">\n\t<a component="'+n.__escape(e(a&&a.posts&&a.posts.tools&&a.posts.tools[s]&&a.posts.tools[s].action))+'" role="menuitem" tabindex="-1" href="#">\n\t\t<span class="menu-icon"><i class="fa '+n.__escape(e(a&&a.posts&&a.posts.tools&&a.posts.tools[s]&&a.posts.tools[s].icon))+'"></i></span> '+e(a&&a.posts&&a.posts.tools&&a.posts.tools[s]&&a.posts.tools[s].html)+"\n\t</a>\n</li>\n"})}},e});