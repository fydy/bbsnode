!function(s){"object"==typeof module&&module.exports?module.exports=s():"function"==typeof define&&define.amd&&define(s)}(function(){function u(s,r,e,o,t){return(e(r&&r.breadcrumbs&&r.breadcrumbs.length)?'\n<ol class="breadcrumb">\n\t'+u.blocks.breadcrumbs(s,r,e,o,t)+"\n</ol>\n":"")+'\n<div class="row groups">\n\t<div class="col-lg-4">\n\t\t'+(e(r&&r.allowGroupCreation)?'\n\t\t<button class="btn btn-primary" data-action="new"><i class="fa fa-plus"></i> [[groups:new_group]]</button>\n\t\t':"")+'\n\t</div>\n\t<div class="col-lg-8">\n\t\t<div class="row">\n\t\t\t<div class="col-xs-5 pull-right form-group">\n\t\t\t\t<div class="fg-line">\n\t\t\t\t<select class="form-control" id="search-sort">\n\t\t\t\t\t<option value="alpha">[[groups:details.group_name]]</option>\n\t\t\t\t\t<option value="count">[[groups:details.member_count]]</option>\n\t\t\t\t\t<option value="date">[[groups:details.creation_date]]</option>\n\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="col-xs-7 text-left pull-right">\n\t\t\t\t<div class="input-group">\n\t\t\t\t\t<div class="fg-line">\n\t\t\t\t\t\t<input type="text" class="form-control" placeholder="[[global:search]]" name="query" value="" id="search-text">\n\t\t\t\t\t</div>\n\t\t\t\t\t<span id="search-button" class="input-group-addon last"><i class="fa fa-search"></i></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div component="groups/container" class="groups list row" id="groups-list" data-nextstart="'+s.__escape(e(r&&r.nextStart))+'">\n\t'+(e(r&&r.groups&&r.groups.length)?"\n\t"+u.blocks.groups(s,r,e,o,t)+"\n\t":'\n\t<div class="col-xs-12">\n\t\t<div class="alert alert-warning">\n\t\t[[groups:no_groups_found]]\n\t\t</div>\n\t</div>\n\t')+"\n</div>\n"}return u.blocks={groups:function(t,u,p,e,s){return e(p(u&&u.groups),function(o,s,r){return'\n<div class="col-lg-4 col-md-6 col-sm-12" data-slug="'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].slug))+'">\n    <div class="card">\n        <div class="card-header ch-alt">\n            <div>'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].displayName))+'</div>\n        </div>\n        <a href="'+t.__escape(p(u&&u.config&&u.config.relative_path))+"/groups/"+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].slug))+'" class="card-body group-cover list-cover" style="'+(p(u&&u.groups&&u.groups[o]&&u.groups[o]["cover:thumb:url"])?"background-image: url("+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o]["cover:thumb:url"]))+");":"")+'">\n        </a>\n        <div class="card-body card-padding">\n            <ul class="members">\n                '+(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members)?e(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members),function(s,r,e){return'\n                <li>\n                    <a href="'+t.__escape(p(u&&u.config&&u.config.relative_path))+"/user/"+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members&&u.groups[o].groups.members[s]&&u.groups[o].groups.members[s].userslug))+'">\n                        '+(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members&&u.groups[o].groups.members[s]&&u.groups[o].groups.members[s].picture)?'\n                        <img class="user-avatar" src="'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members&&u.groups[o].groups.members[s]&&u.groups[o].groups.members[s].picture))+'" alt="'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members&&u.groups[o].groups.members[s]&&u.groups[o].groups.members[s].username))+'" title="'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members&&u.groups[o].groups.members[s]&&u.groups[o].groups.members[s].username))+'" />\n                        ':'\n                        <div class="user-icon" style="background-color: '+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members&&u.groups[o].groups.members[s]&&u.groups[o].groups.members[s]["icon:bgColor"]))+';">'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].groups&&u.groups[o].groups.members&&u.groups[o].groups.members[s]&&u.groups[o].groups.members[s]["icon:text"]))+"</div>\n                        ")+"\n                    </a>\n                </li>\n                "}):e(p(u&&u.groups&&u.groups[o]&&u.groups[o].members),function(s,r,e){return'\n                <li>\n                    <a href="'+t.__escape(p(u&&u.config&&u.config.relative_path))+"/user/"+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].members&&u.groups[o].members[s]&&u.groups[o].members[s].userslug))+'">\n                        '+(p(u&&u.groups&&u.groups[o]&&u.groups[o].members&&u.groups[o].members[s]&&u.groups[o].members[s].picture)?'\n                        <img class="user-avatar" src="'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].members&&u.groups[o].members[s]&&u.groups[o].members[s].picture))+'" alt="'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].members&&u.groups[o].members[s]&&u.groups[o].members[s].username))+'" title="'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].members&&u.groups[o].members[s]&&u.groups[o].members[s].username))+'" />\n                        ':'\n                        <div class="user-icon" style="background-color: '+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].members&&u.groups[o].members[s]&&u.groups[o].members[s]["icon:bgColor"]))+';">'+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].members&&u.groups[o].members[s]&&u.groups[o].members[s]["icon:text"]))+"</div>\n                        ")+"\n                    </a>\n                </li>\n                "}))+"\n                "+(p(u&&u.groups&&u.groups[o]&&u.groups[o].truncated)?'\n                <li class="truncated"><i class="fa fa-ellipsis-h"></i></li>\n                ':"")+'\n            </ul>\n        </div>\n        <div class="card-footer">\n            '+t.__escape(p(u&&u.groups&&u.groups[o]&&u.groups[o].memberCount))+" member(s)\n        </div>\n    </div>\n</div>\n"})},breadcrumbs:function(o,t,u,s,r){return s(u(t&&t.breadcrumbs),function(s,r,e){return"\n\t<li"+(r===e-1?' component="breadcrumb/current"':"")+' itemscope="itemscope" itemtype="http://data-vocabulary.org/Breadcrumb" '+(r===e-1?'class="active"':"")+">\n\t\t"+(r!==e-1?'<a href="'+o.__escape(u(t&&t.breadcrumbs&&t.breadcrumbs[s]&&t.breadcrumbs[s].url))+'" itemprop="url">':"")+'\n\t\t\t<span itemprop="title">\n\t\t\t\t'+o.__escape(u(t&&t.breadcrumbs&&t.breadcrumbs[s]&&t.breadcrumbs[s].text))+"\n\t\t\t\t"+(r===e-1?"\n\t\t\t\t"+(u(t&&t["feeds:disableRSS"])?"":"\n\t\t\t\t"+(u(t&&t.rssFeedUrl)?'<a target="_blank" href="'+o.__escape(u(t&&t.rssFeedUrl))+'"><i class="fa fa-rss-square"></i></a>':""))+"\n\t\t\t\t":"")+"\n\t\t\t</span>\n\t\t"+(r!==e-1?"</a>":"")+"\n\t</li>\n\t"})}},u});